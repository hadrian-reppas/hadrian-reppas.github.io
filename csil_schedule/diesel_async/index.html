<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Diesel-async provides async variants of diesel related query functionality"><title>diesel_async - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="diesel_async" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0-nightly (608e9682f 2023-10-29)" data-channel="nightly" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../diesel_async/index.html">diesel_async</a><span class="version">0.4.1</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">diesel_async</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/diesel_async/lib.rs.html#1-344">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Diesel-async provides async variants of diesel related query functionality</p>
<p>diesel-async is an extension to diesel itself. It is designed to be used together
with the main diesel crate. It only provides async variants of core diesel traits,
that perform actual io-work.
This includes async counterparts the following traits:</p>
<ul>
<li><a href="https://docs.diesel.rs/2.0.x/diesel/prelude/trait.RunQueryDsl.html"><code>diesel::prelude::RunQueryDsl</code></a>
-&gt; <a href="trait.RunQueryDsl.html" title="trait diesel_async::RunQueryDsl"><code>diesel_async::RunQueryDsl</code></a></li>
<li><a href="https://docs.diesel.rs/2.0.x/diesel/connection/trait.Connection.html"><code>diesel::connection::Connection</code></a>
-&gt; <a href="trait.AsyncConnection.html" title="trait diesel_async::AsyncConnection"><code>diesel_async::AsyncConnection</code></a></li>
<li><a href="https://docs.diesel.rs/2.0.x/diesel/query_dsl/trait.UpdateAndFetchResults.html"><code>diesel::query_dsl::UpdateAndFetchResults</code></a>
-&gt; <a href="trait.UpdateAndFetchResults.html" title="trait diesel_async::UpdateAndFetchResults"><code>diesel_async::UpdateAndFetchResults</code></a></li>
</ul>
<p>These traits closely mirror their diesel counter parts while providing async functionality.</p>
<p>In addition to these core traits 2 fully async connection implementations are provided
by diesel-async:</p>
<ul>
<li>[<code>AsyncMysqlConnection</code>] (enabled by the <code>mysql</code> feature)</li>
<li><a href="struct.AsyncPgConnection.html" title="struct diesel_async::AsyncPgConnection"><code>AsyncPgConnection</code></a> (enabled by the <code>postgres</code> feature)</li>
</ul>
<p>Ordinary usage of <code>diesel-async</code> assumes that you just replace the corresponding sync trait
method calls and connections with their async counterparts.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>diesel::prelude::<span class="kw-2">*</span>;
<span class="kw">use </span>diesel_async::{RunQueryDsl, AsyncConnection};

<span class="macro">diesel::table! </span>{
   users(id) {
       id -&gt; Integer,
       name -&gt; Text,
   }
}

<span class="kw">use </span><span class="kw">crate</span>::users::dsl::<span class="kw-2">*</span>;

<span class="kw">let </span><span class="kw-2">mut </span>connection = AsyncPgConnection::establish(std::env::var(<span class="string">&quot;DATABASE_URL&quot;</span>)<span class="question-mark">?</span>).<span class="kw">await</span><span class="question-mark">?</span>;
<span class="kw">let </span>data = users
    <span class="comment">// use ordinary diesel query dsl here
    </span>.filter(id.gt(<span class="number">0</span>))
    <span class="comment">// execute the query via the provided
    // async variant of `diesel_async::RunQueryDsl`
    </span>.load::&lt;(i32, String)&gt;(<span class="kw-2">&amp;mut </span>connection)
    .<span class="kw">await</span><span class="question-mark">?</span>;
<span class="kw">let </span>expected_data = <span class="macro">vec!</span>[
    (<span class="number">1</span>, String::from(<span class="string">&quot;Sean&quot;</span>)),
    (<span class="number">2</span>, String::from(<span class="string">&quot;Tess&quot;</span>)),
];
<span class="macro">assert_eq!</span>(expected_data, data);</code></pre></div>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.scoped_futures"><code>pub use <a class="mod" href="../scoped_futures/index.html" title="mod scoped_futures">scoped_futures</a>;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="methods/index.html" title="mod diesel_async::methods">methods</a></div><div class="desc docblock-short">The traits used by <code>QueryDsl</code>.</div></li><li><div class="item-name"><a class="mod" href="pg/index.html" title="mod diesel_async::pg">pg</a></div><div class="desc docblock-short">Provides types and functions related to working with PostgreSQL</div></li><li><div class="item-name"><a class="mod" href="pooled_connection/index.html" title="mod diesel_async::pooled_connection">pooled_connection</a></div><div class="desc docblock-short">This module contains support using diesel-async with
various async rust connection pooling solutions</div></li><li><div class="item-name"><a class="mod" href="return_futures/index.html" title="mod diesel_async::return_futures">return_futures</a></div><div class="desc docblock-short">The return types produced by the various <a href="trait.RunQueryDsl.html" title="trait diesel_async::RunQueryDsl"><code>RunQueryDsl</code></a> methods</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AnsiTransactionManager.html" title="struct diesel_async::AnsiTransactionManager">AnsiTransactionManager</a></div><div class="desc docblock-short">An implementation of <code>TransactionManager</code> which can be used for backends
which use ANSI standard syntax for savepoints such as SQLite and PostgreSQL.</div></li><li><div class="item-name"><a class="struct" href="struct.AsyncPgConnection.html" title="struct diesel_async::AsyncPgConnection">AsyncPgConnection</a></div><div class="desc docblock-short">A connection to a PostgreSQL database.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AsyncConnection.html" title="trait diesel_async::AsyncConnection">AsyncConnection</a></div><div class="desc docblock-short">An async connection to a database</div></li><li><div class="item-name"><a class="trait" href="trait.RunQueryDsl.html" title="trait diesel_async::RunQueryDsl">RunQueryDsl</a></div><div class="desc docblock-short">Methods used to execute queries.</div></li><li><div class="item-name"><a class="trait" href="trait.SaveChangesDsl.html" title="trait diesel_async::SaveChangesDsl">SaveChangesDsl</a></div><div class="desc docblock-short">Sugar for types which implement both <code>AsChangeset</code> and <code>Identifiable</code></div></li><li><div class="item-name"><a class="trait" href="trait.SimpleAsyncConnection.html" title="trait diesel_async::SimpleAsyncConnection">SimpleAsyncConnection</a></div><div class="desc docblock-short">Perform simple operations on a backend.</div></li><li><div class="item-name"><a class="trait" href="trait.TransactionManager.html" title="trait diesel_async::TransactionManager">TransactionManager</a></div><div class="desc docblock-short">Manages the internal transaction state for a connection.</div></li><li><div class="item-name"><a class="trait" href="trait.UpdateAndFetchResults.html" title="trait diesel_async::UpdateAndFetchResults">UpdateAndFetchResults</a></div><div class="desc docblock-short">A trait defining how to update a record and fetch the updated entry
on a certain backend.</div></li></ul></section></div></main></body></html>